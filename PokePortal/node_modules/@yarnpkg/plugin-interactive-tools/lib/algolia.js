"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.search = void 0;
const tslib_1 = require("tslib");
const algoliasearch_1 = tslib_1.__importDefault(require("algoliasearch"));
const algolia = {
    appId: `OFCNCOG2CU`,
    apiKey: `6fe4476ee5a1832882e326b506d14126`,
    indexName: `npm-search`,
};
const client = (0, algoliasearch_1.default)(algolia.appId, algolia.apiKey).initIndex(algolia.indexName);
const search = async (query, page = 0) => {
    const res = await client.search(query, {
        analyticsTags: [`yarn-plugin-interactive-tools`],
        attributesToRetrieve: [
            `name`,
            `version`,
            `owner`,
            `repository`,
            `humanDownloadsLast30Days`,
        ],
        page,
        hitsPerPage: 10,
    });
    return res;
};
exports.search = search;
